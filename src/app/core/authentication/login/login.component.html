<div class="login-container">
    <p-toast></p-toast>

    <div class="login-card-wrapper">
        <p-card class="login-card">

            <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
                <!-- Email Field -->
                <br>
                <div class="form-field">
                    <label for="email" class="field-label">
                        Email Address <span class="required">*</span>
                    </label>
                    <div class="input-wrapper">
                        <i class="pi pi-envelope input-icon"></i>
<!--                        <input-->
<!--                            id="email"-->
<!--                            pInputText-->
<!--                            formControlName="email"-->
<!--                            placeholder="Enter your email"-->
<!--                            class="w-full"-->
<!--                            [class.ng-invalid]="isFieldInvalid('email')"-->
<!--                            [class.ng-dirty]="loginFormControls['email'].dirty">-->
<!--                        </input>-->

                        <p-iconfield>
                            <input pInputText type="text" formControlName="email" placeholder="Email Address....." />
                        </p-iconfield>
                    </div>
                    <small
                        class="error-message"
                        *ngIf="isFieldInvalid('email')">
                        {{ getFieldError('email') }}
                    </small>
                </div>

                <!-- Password Field -->
                <div class="form-field">
                    <label for="password" class="field-label">
                        Password <span class="required">*</span>
                    </label>
                    <div class="password-wrapper">
                        <p-password
                            id="password"
                            formControlName="password"
                            placeholder="Enter your password"
                            [toggleMask]="true"
                            [feedback]="false"
                            class="w-full"
                            [class.ng-invalid]="isFieldInvalid('password')"
                            [class.ng-dirty]="loginFormControls['password'].dirty">
                        </p-password>
                    </div>
                    <small
                        class="error-message"
                        *ngIf="isFieldInvalid('password')">
                        {{ getFieldError('password') }}
                    </small>
                </div>

                <!-- Remember Me & Forgot Password -->
                <div class="form-options">
                    <div class="remember-me">
                        <p-checkbox
                            formControlName="rememberMe"
                            [binary]="true"
                            inputId="rememberMe">
                        </p-checkbox>
                        <label for="rememberMe" class="checkbox-label">
                            Remember me
                        </label>
                    </div>
                    <a (click)="onForgotPassword()" class="forgot-password-link">
                        Forgot password?
                    </a>
                </div>

                <!-- Submit Button -->
                <div class="form-actions">
                    <p-button
                        type="submit"
                        label="Sign In"
                        icon="pi pi-sign-in"
                        [loading]="loading"
                        [disabled]="loading"
                        class="w-full login-button">
                    </p-button>
                </div>

                <!-- Divider -->
                <p-divider align="center">
                    <span class="divider-text">or</span>
                </p-divider>

                <!-- Social Login -->
                <div class="social-buttons">
                    <p-button
                        type="button"
                        label="Continue with Google"
                        icon="pi pi-google"
                        class="p-button-outlined w-full social-button google-button"
                        (click)="onSocialLogin('Google')">
                    </p-button>
                    <p-button
                        type="button"
                        label="Continue with Microsoft"
                        icon="pi pi-microsoft"
                        class="p-button-outlined w-full social-button microsoft-button"
                        (click)="onSocialLogin('Microsoft')">
                    </p-button>
                </div>

                <!-- Register Link -->
                <div class="register-link">
                    <span>Don't have an account? </span>
                    <a (click)="navigateToRegister()" class="link">Create one here</a>
                </div>
            </form>
        </p-card>

        <!-- Additional Info -->
        <div class="additional-info">
            <div class="info-card">
                <i class="pi pi-shield info-icon"></i>
                <h4>Secure Login</h4>
                <p>Your data is protected with enterprise-grade security</p>
            </div>
            <div class="info-card">
                <i class="pi pi-clock info-icon"></i>
                <h4>Quick Access</h4>
                <p>Sign in once and stay logged in across devices</p>
            </div>
        </div>
    </div>
</div>
