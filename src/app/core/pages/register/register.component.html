<div class="register-container">
    <p-toast></p-toast>

    <div class="register-card-wrapper">
        <p-card class="register-card">
            <ng-template pTemplate="header">
                <div class="card-header">
                    <div class="logo-section">
                        <i class="pi pi-user-plus logo-icon"></i>
                        <h2>Create Account</h2>
                    </div>
                    <p class="subtitle">Join us today and get started</p>
                </div>
            </ng-template>

            <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
                <!-- Name Field -->
                <div class="form-field">
                    <label for="name" class="field-label">
                        Full Name <span class="required">*</span>
                    </label>
                    <p-inputText
                        id="name"
                        formControlName="name"
                        placeholder="Enter your full name"
                        class="w-full"
                        [class.ng-invalid]="isFieldInvalid('name')"
                        [class.ng-dirty]="f['name'].dirty">
                    </p-inputText>
                    <small
                        class="error-message"
                        *ngIf="isFieldInvalid('name')">
                        {{ getFieldError('name') }}
                    </small>
                </div>

                <!-- Email Field -->
                <div class="form-field">
                    <label for="email" class="field-label">
                        Email Address <span class="required">*</span>
                    </label>
                    <p-inputText
                        id="email"
                        formControlName="email"
                        placeholder="Enter your email"
                        class="w-full"
                        [class.ng-invalid]="isFieldInvalid('email')"
                        [class.ng-dirty]="f['email'].dirty">
                    </p-inputText>
                    <small
                        class="error-message"
                        *ngIf="isFieldInvalid('email')">
                        {{ getFieldError('email') }}
                    </small>
                </div>

                <!-- Password Field -->
                <div class="form-field">
                    <label for="password" class="field-label">
                        Password <span class="required">*</span>
                    </label>
                    <p-password
                        id="password"
                        formControlName="password"
                        placeholder="Enter your password"
                        [toggleMask]="true"
                        [feedback]="true"
                        promptLabel="Enter a password"
                        weakLabel="Weak"
                        mediumLabel="Medium"
                        strongLabel="Strong"
                        class="w-full"
                        [class.ng-invalid]="isFieldInvalid('password')"
                        [class.ng-dirty]="f['password'].dirty">
                    </p-password>
                    <small
                        class="error-message"
                        *ngIf="isFieldInvalid('password')">
                        {{ getFieldError('password') }}
                    </small>
                    <small class="password-hint">
                        Password must contain at least 8 characters with uppercase, lowercase, number, and special character
                    </small>
                </div>

                <!-- Confirm Password Field -->
                <div class="form-field">
                    <label for="confirmPassword" class="field-label">
                        Confirm Password <span class="required">*</span>
                    </label>
                    <p-password
                        id="confirmPassword"
                        formControlName="confirmPassword"
                        placeholder="Confirm your password"
                        [toggleMask]="true"
                        [feedback]="false"
                        class="w-full"
                        [class.ng-invalid]="isFieldInvalid('confirmPassword')"
                        [class.ng-dirty]="f['confirmPassword'].dirty">
                    </p-password>
                    <small
                        class="error-message"
                        *ngIf="isFieldInvalid('confirmPassword')">
                        {{ getFieldError('confirmPassword') }}
                    </small>
                </div>

                <!-- Terms and Conditions -->
                <div class="form-field">
                    <p-checkbox
                        formControlName="acceptTerms"
                        [binary]="true"
                        inputId="acceptTerms"
                        [class.ng-invalid]="isFieldInvalid('acceptTerms')">
                    </p-checkbox>
                    <label for="acceptTerms" class="checkbox-label">
                        I agree to the
                        <a href="/terms" target="_blank" class="link">Terms of Service</a>
                        and
                        <a href="/privacy" target="_blank" class="link">Privacy Policy</a>
                        <span class="required">*</span>
                    </label>
                    <small
                        class="error-message"
                        *ngIf="isFieldInvalid('acceptTerms')">
                        You must accept the terms and conditions
                    </small>
                </div>

                <!-- Submit Button -->
                <div class="form-actions">
                    <p-button
                        type="submit"
                        label="Create Account"
                        icon="pi pi-user-plus"
                        [loading]="loading"
                        [disabled]="loading"
                        class="w-full register-button">
                    </p-button>
                </div>

                <!-- Divider -->
                <p-divider align="center">
                    <span class="divider-text">or</span>
                </p-divider>

                <!-- Social Registration (Optional) -->
                <div class="social-buttons">
                    <p-button
                        type="button"
                        label="Continue with Google"
                        icon="pi pi-google"
                        class="p-button-outlined w-full social-button"
                        >
                    </p-button>
                </div>

                <!-- Login Link -->
                <div class="login-link">
                    <span>Already have an account? </span>
                    <a (click)="navigateToLogin()" class="link">Sign in here</a>
                </div>
            </form>
        </p-card>
    </div>
</div>
