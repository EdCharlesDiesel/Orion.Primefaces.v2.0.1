<div class="surface-ground min-h-screen py-5">
    <div class="container">
        <!-- Header Section -->
        <div class="text-center mb-6">
            <h1 class="text-900 font-bold text-5xl mb-3">Our Blog</h1>
            <p class="text-600 text-xl">Discover insights, tutorials, and updates</p>
        </div>

        <!-- Search Bar -->
        <div class="flex justify-content-center mb-5">
            <span class="p-input-icon-left w-full md:w-6">
                <i class="pi pi-search"></i>
                <input pInputText type="text" placeholder="Search articles..." class="w-full"
                    [(ngModel)]="searchQuery" />
            </span>
        </div>

        <!-- Featured Post -->
        <div class="mb-6" *ngIf="featuredPost()">
            <p-card styleClass="featured-card">
                <ng-template pTemplate="header">
                    <img [src]="featuredPost()!.imageUrl" [alt]="featuredPost()!.title" class="featured-image" />
                    <div class="featured-overlay">
                        <p-chip label="Featured" styleClass="featured-chip"></p-chip>
                    </div>
                </ng-template>
                <div class="featured-content">
                    <h2 class="text-4xl font-bold text-900 mb-3">{{ featuredPost()!.title }}</h2>
                    <p class="text-600 text-lg mb-3">{{ featuredPost()!.excerpt }}</p>
                    <div class="flex align-items-center gap-3 mb-3">
                        <p-avatar [label]="featuredPost()!.author.charAt(0)" shape="circle" styleClass="bg-primary">
                        </p-avatar>
                        <div>
                            <div class="font-semibold text-900">{{ featuredPost()!.author }}</div>
                            <div class="text-sm text-600">{{ featuredPost()!.date | date: 'MMM dd, yyyy' }} Â· {{
                                featuredPost()!.readTime }}</div>
                        </div>
                    </div>
                    <p-button label="Read More" icon="pi pi-arrow-right" iconPos="right"
                        [routerLink]="['/blog', featuredPost()!.id]"> </p-button>
                </div>
            </p-card>
        </div>

        <!-- Blog Posts Grid -->
        <div class="grid">
            <div class="col-12 md:col-6 lg:col-4" *ngFor="let post of blogPosts()">
                <p-card styleClass="blog-card h-full">
                    <ng-template pTemplate="header">
                        <img [src]="post.imageUrl" [alt]="post.title" class="blog-image" />
                    </ng-template>

                    <div class="flex flex-column h-full">
                        <div class="flex gap-2 mb-3 flex-wrap">
                            <p-chip *ngFor="let tag of post.tags" [label]="tag" styleClass="tag-chip"> </p-chip>
                        </div>

                        <h3 class="text-xl font-bold text-900 mb-2 line-height-3">
                            {{ post.title }}
                        </h3>

                        <p class="text-600 mb-3 flex-grow-1">
                            {{ post.excerpt }}
                        </p>

                        <div class="flex align-items-center justify-content-between pt-3 border-top-1 surface-border">
                            <div class="flex align-items-center gap-2">
                                <p-avatar [label]="post.author.charAt(0)" shape="circle"> </p-avatar>
                                <span class="text-sm text-600">{{ post.author }}</span>
                            </div>
                            <div class="text-sm text-600">
                                {{ post.readTime }}
                            </div>
                        </div>
                    </div>

                    <ng-template pTemplate="footer">
                        <div class="flex gap-2">
                            <p-button label="Read Article" [text]="true" icon="pi pi-book"
                                [routerLink]="['/blog', post.id]" styleClass="p-button-sm"> </p-button>
                            <p-button icon="pi pi-share-alt" [text]="true" [rounded]="true" severity="secondary"
                                styleClass="p-button-sm"> </p-button>
                        </div>
                    </ng-template>
                </p-card>
            </div>
        </div>

        <!-- Loading State -->
        <div class="grid" *ngIf="loading()">
            <div class="col-12 md:col-6 lg:col-4" *ngFor="let item of [1, 2, 3]">
                <p-card>
                    <ng-template pTemplate="header">
                        <p-skeleton width="100%" height="200px"></p-skeleton>
                    </ng-template>
                    <p-skeleton width="100%" height="2rem" styleClass="mb-3"></p-skeleton>
                    <p-skeleton width="100%" height="4rem" styleClass="mb-3"></p-skeleton>
                    <p-skeleton width="60%" height="1.5rem"></p-skeleton>
                </p-card>
            </div>
        </div>

        <!-- Empty State -->
        <div class="text-center py-8" *ngIf="!loading() && blogPosts().length === 0">
            <i class="pi pi-inbox text-6xl text-400 mb-3"></i>
            <h3 class="text-900 font-semibold text-2xl mb-2">No Posts Found</h3>
            <p class="text-600">Check back later for new content!</p>
        </div>
    </div>
</div>